@model Projet_pilate.Models.CreationOdmModel
@using Projet_pilate.Models

@{
    ViewBag.Title = "CreationOdm";

}



@using (Html.BeginForm())
{
    <br />
    <br />
    <br />
    <br />

    <div class="form-group col-md-12">

        <div class="col-md-1" style="padding-top:7px; font-weight:bolder">Manager:  </div>
        <div class="col-md-11">
            <input type="text" placeholder="Manager Name" list="manager" class="form-control" id="Manager" asp-for="Manager" name="Manager" required />
            <datalist id="manager">
                @{ ApplicationDbContext db = new ApplicationDbContext();
                    foreach (var man in db.Managers.ToList())
                    {

                        foreach (var m in db.Missions.ToList())
                        {

                            if ((man.FirstName + " " + man.LastName).ToUpper() == m.Creator.ToUpper())
                            {
                                string s = m.Name + "Manager";
                                <option value="@m.Creator" id="@s"></option>
                            }

                        };
                    };
                }
            </datalist>
        </div>



        <div class="col-md-4" style="margin-top:20px">
            <label>Nouveau Projet <input type="radio" value="Nouveau Projet" id="typeProjet" asp-for="typeProjet" name="typeProjet" required /></label>
        </div>
        <div class="col-md-8" style="margin-top:20px">
            <label>Prolongation Projet <input type="radio" value="Prolongation Projet" id="typeProjet" asp-for="typeProjet" name="typeProjet" required /></label>
        </div>



        <div class="col-md-2" style="padding-top:7px; font-weight:bolder; margin-top:10px">
            Date de début:
        </div>
        <div class="col-md-4" style="margin-top:10px">
            @Html.EditorFor(model => model.debut, new { htmlAttributes = new { @class = "form-control" } })
        </div>
        <div class="col-md-2" style="padding-top:7px; font-weight:bolder; margin-top:10px">
            Date de fin:
        </div>
        <div class="col-md-4" style="margin-top:10px">
            @Html.EditorFor(model => model.fin, new { htmlAttributes = new { @class = "form-control" } })
        </div>

        <p class="col-md-12" style="background-color:navajowhite;margin-top:30px; text-align: center;">Informations concernant le collaborateur</p>



        <div class="col-md-1" style="padding-top:7px; font-weight:bolder; margin-top:15px;">Nom:  </div>
        <div class="col-md-11" style="margin-top:15px">
            <input type="text" placeholder="Nom" list="nom" class="form-control" id="nomConsultant" asp-for="nomConsultant" name="nomConsultant" required />
            <datalist id="nom">
                @{
                    foreach (var item in db.Consultants.ToList())
                    {
                        foreach (var m in db.Missions.ToList())
                        {
                            if (item.ConsultantID == m.ConsultantID)
                            {
                                string s = m.Name + "Nom";
                                <option value="@item.LastName" id="@s"></option>
                            }

                        };
                    };
                }
            </datalist>
        </div>
        <div class="col-md-1" style="padding-top:7px; font-weight:bolder; margin-top:10px">Prenom:  </div>
        <div class="col-md-11" style="margin-top:10px;">
            <input type="text" placeholder="Prenom" list="prenom" class="form-control" id="prenomConsultant" asp-for="prenomConsultant" name="prenomConsultant" required />
            <datalist id="prenom">
                @{
                    foreach (var item in db.Consultants.ToList())
                    {
                        foreach (var m in db.Missions.ToList())
                        {
                            if (item.ConsultantID == m.ConsultantID)
                            {
                                string s = m.Name + "Prenom";
                                <option value="@item.FirstName" id="s"></option>
                            }

                        };
                    };
                }
            </datalist>
        </div>



        <p class="col-md-12" style="background-color:navajowhite;margin-top:30px; text-align: center;">Informations concernant le projet</p>



        <div class="col-md-2" style="padding-top:7px; font-weight:bolder; margin-top:15px">Nom du client:  </div>
        <div class="col-md-10" style="margin-top:15px;">
            <input type="text" placeholder="Nom du client" list="nClient" class="form-control" id="nomClient" asp-for="nomClient" name="nomClient" required />
            <datalist id="nClient">
                @{
                    foreach (var item in db.CompanyContacts.ToList())
                    {
                        foreach (var m in db.Missions.ToList())
                        {
                            if (item.CompanyContactID == m.CompanyContactID)
                            {
                                string s = m.Name + "NomClient";
                                <option value="@item.CompanyName" id="s"></option>
                            }

                        };
                    };
                }
            </datalist>
        </div>

        <div class="col-md-2" style="padding-top:7px; font-weight:bolder; margin-top:10px">Nom du projet:  </div>
        <div class="col-md-10" style="margin-top:10px;">
            <input type="text" placeholder="Nom du projet" list="mission" class="form-control" id="Mission" asp-for="Mission" name="Mission" required />
            <datalist id="mission">
                @{
                    foreach (var m in db.Missions.ToList())
                    {
                        <option value="@m.Name" id="@m.Name"></option>
                    };

                }
            </datalist>
        </div>

        <div class="col-md-2" style="padding-top:7px; font-weight:bolder; margin-top:10px">Contact Client:  </div>
        <div class="col-md-10" style="margin-top:10px;">
            <input type="text" placeholder="Contact Client" list="contactclient" class="form-control" id="contactClient" asp-for="contactClient" name="contactClient" required />
            <datalist id="contactclient">
                @{
                    foreach (var item in db.CompanyContacts.ToList())
                    {
                        foreach (var m in db.Missions.ToList())
                        {
                            if (item.CompanyContactID == m.CompanyContactID)
                            {
                                string s = m.Name + "ContactClient";
                                string v = item.FirstName + " " + item.LastName;
                                <option value="@v" id="s"></option>
                            }

                        };
                    };

                }
            </datalist>
        </div>

        <div class="col-md-3" style="padding-top:7px; font-weight:bolder; margin-top:10px; margin-right:0px;padding-right:0px">Adresse d'intervention:  </div>
        <div class="col-md-9" style="margin-top:10px; padding-left:0px;margin-left:0px">
            <input type="text" placeholder="Adresse d'intervention" list="adresse" class="form-control" id="Adresse" asp-for="Adresse" name="Adresse" required />
            <datalist id="adresse">
                @{
                    foreach (var m in db.Missions.ToList())
                    {
                        string s = m.Name + "Adresse";
                        <option value="@m.AdresseMission" id="@s"></option>
                    };

                }
            </datalist>
        </div>
        <div class="col-md-3" style="padding-top:7px; font-weight:bolder; margin-top:10px; margin-right:0px;padding-right:0px">Environnement Projet:  </div>
        <div class="col-md-9" style="margin-top:10px; padding-left:0px;margin-left:0px">
            <input type="text" placeholder="Environnement Projet" list="environnement" class="form-control" id="Environnement" asp-for="Environnement" name="Environnement" required />
            <datalist id="environnement">
                @{
                    foreach (var m in db.Missions.ToList())
                    {
                        string s = m.Name + "Adresse";
                        <option value="@m.AdresseMission" id="@s"></option>
                    };

                }
            </datalist>
        </div>


        <p class="col-md-12" style="background-color:navajowhite;margin-top:30px; text-align: center;">Informations concernant les frais alloués</p>




    </div>


}

<script>


</script>


